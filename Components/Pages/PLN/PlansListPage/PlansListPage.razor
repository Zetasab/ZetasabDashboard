@page "/plans"

<PageTitle>Plans - ZetaDashboard</PageTitle>

<!-- #region Title -->
<div style="display:flex;align-items:center;justify-content:space-between">
    <div></div>
    <div>
        <h2>🧗🏻‍ Planes</h2>
    </div>
    <div style="padding-right:30px;">
        
    </div>
</div>
<!-- #endregion -->

<MudGrid GutterSize="3" Class="plans-grid" Style="margin-top:30px;">
    @foreach (var item in DataList)
    {
        <MudItem Xs="12" Sm="6" Md="4" Lg="3">
            <MudPaper Class="plan-card pa-4" Elevation="0" @onclick="@(() => NavigateTo(item.Id))">
                <div class="card-border"></div>

                <div class="card-header">
                    
                    <MudText Typo="Typo.h6" Class="card-title">@item.Name</MudText>
                </div>

                <MudText Typo="Typo.body2" Class="card-desc" Title="@item.Description" Style="margin-top:20px;margin-left:20px;">
                    @item.Description
                </MudText>

                <div class="card-footer">
                    <MudChip Variant="Variant.Outlined" T="string" Size="Size.Small" Icon="@Icons.Material.Filled.Group" Class="chip">
                        @item.UsersIds?.Count @(" Usuarios")
                    </MudChip>

                    <MudChip Variant="Variant.Outlined" T="string" Size="Size.Small" Icon="@Icons.Material.Filled.PlaylistAddCheck" Class="chip">
                        @item.Plans?.Count @(" Planes")
                    </MudChip>

                  
                </div>

                <span class="hover-sheen"></span>
            </MudPaper>
        </MudItem>
    }
</MudGrid>


<style>
    /* Grid padding sutil */
    .plans-grid {
        padding-top: .25rem;
    }

    /* -------- Tarjeta Glass + Borde Degradado -------- */
    .plan-card {
        position: relative;
        border-radius: 18px;
        background: rgba(255,255,255,0.06);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        overflow: hidden;
        transition: transform .25s ease, box-shadow .25s ease, background .25s ease;
        outline: 1px solid rgba(255,255,255,0.07);
    }

        /* Borde degradado animado */
        .plan-card .card-border {
            position: absolute;
            inset: 0;
            border-radius: 18px;
            padding: 1px;
            pointer-events: none;
            background: var(--mud-palette-primary);
            -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
           
            opacity: .65;
        }
   
    /* “Brillo” diagonal al pasar el ratón */
    .plan-card .hover-sheen {
        position: absolute;
        inset: 0;
        background: linear-gradient(110deg, transparent 30%, rgba(255,255,255,.18) 50%, transparent 70%);
        transform: translateX(-120%);
        transition: transform .6s ease;
        pointer-events: none;
    }

    /* Hover efectos */
    .plan-card:hover {
        cursor:pointer;
        transform: translateY(-6px) scale(1.01);
        box-shadow: 0 18px 40px rgba(0,0,0,.25);
        background: rgba(255,255,255,0.09);
    }

        .plan-card:hover .hover-sheen {
            transform: translateX(120%);
        }

    /* Contenido */
    .card-header {
        display: flex;
        align-items: center;
        gap: .6rem;
        margin-bottom: .35rem;
    }

    .card-icon {
        opacity: .9;
        filter: drop-shadow(0 2px 6px rgba(0,0,0,.25));
    }

    .card-title {
        letter-spacing: .2px;
        font-weight: 700;
    }

    /* Descripción: 2 líneas con ellipsis */
    .card-desc {
        margin: .35rem 0 1rem 0;
        opacity: .9;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    /* Footer */
    .card-footer {
        display: flex;
        align-items: center;
        gap: .5rem;
    }

    .chip {
        border-radius: 999px;
        border: 1px dashed rgba(255,255,255,.25);
        backdrop-filter: blur(3px);
    }

    /* Modo claro soporte */
    @@media (prefers-color-scheme: light) {
        .plan-card

    {
        background: rgba(255,255,255,0.6);
        outline-color: rgba(0,0,0,.06);
    }

    .chip {
        border-color: rgba(0,0,0,.15);
    }

    }

    /* Accesibilidad: foco con teclado */
    .plan-card:focus-within,
    .plan-card:focus-visible {
        outline: 2px solid #7c4dff;
        box-shadow: 0 0 0 6px rgba(124,77,255,.25);
    }
</style>